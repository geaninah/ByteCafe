<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>


	<link rel="stylesheet" href="/css/style.css">

	<title>INDEX</title>

</head>
<body>
	<nav class="navbar navbar-default navbar-fixed-top">
  		<div class="container-fluid" id="header">
  			<img src="images/logo.png">
  		</div> 
	</nav>
	<div class="container">
		<div class="row">
  			<div class="col-sm-8" id="demonstration">
  				<img src="images/sample.png">
  			</div>
  			<div class="col-sm-4">
  				
  				<div class="col-sm-12 btn-group" id="reg-type">
  					<button type="button" class="btn btn-primary" id="loginTab">Log In</button>
  					<button type="button" class="btn btn-primary" id="signupTab">Sign Up</button>
				</div>

				<script>
					$(document).ready(function() {
						$('#signUpForm').hide();
						$('#loginTab').addClass('focus');

						// setup signup/login buttons
						$('#loginTab').click(function () {
  						$('#signUpForm').hide();
  						$('#loginForm').show();
  						$('#loginTab').addClass('focus');
  						$('#signupTab').removeClass('focus');
						});

						// setup signup/login buttons
						$('#signupTab').click(function () {
  						$('#loginForm').hide();
  						$('#signUpForm').show();
  						$('#signupTab').addClass('focus');
  						$('#loginTab').removeClass('focus');
						});

						// populate the terms and conditions modal
						$.get('/api/terms', function(data) {
							$('#placeTandC').html(data); 
						});

					});
  				</script>

				
				<div class="col-sm-12">
  					
  					<form role="form" id="loginForm">
  						<div class="form-group has-feedback">
    						<input type="email" class="form-control" id="emailField" placeholder="Email">
							<span class="glyphicon form-control-feedback glyphicon-envelope"></span>
  						</div>
 						<div class="form-group has-feedback">
    						<input type="password" class="form-control" id="passwordField" placeholder="Password">
    						<span class="glyphicon form-control-feedback glyphicon-lock"></span>
  						</div>
  						<div class="checkbox">
    						<label><input type="checkbox"> Remember me</label>
 						</div>
 						<div class="col-sm-12" id="FP_link">
 							<button type="button" class="btn btn-link" data-toggle="modal" data-target="#ResetPassword">Forgotten password?</button>
 						</div>
 						<div class="col-sm-12">
  							<button type="submit" class="btn btn-default" disabled="disabled" id="login" href="menu.html">Submit</button>
  						</div>

  						<script>

  							$('#passwordField').change(function() {
								if($('#emailField').val() == "" || $('#passwordField').val() == "") {
									$('#login').attr('disabled', 'disabled');
								}
								else {
									$('#login').removeAttr('disabled', 'disabled');
								}
							});

  						</script>

  						<!-- Modal -->
				<div class="modal fade" id="ResetPassword" role="dialog">
 		 			<div class="modal-dialog" role="document">

    				<!-- Modal content-->
    				<div class="modal-content">
      					<div class="modal-header">
        					<button type="button" class="close" data-dismiss="modal">&times;</button>
        					<h4 class="modal-title">Forgot your password?</h4>
      					</div>
      					<div class="modal-body">
       						<h5>No worries! Just enter your email address in the field below and we will send you information on how to reset it! (: </h5>
       						<input type="email" class="form-control" id="emailForgotPass" placeholder="Email">
      					</div>
      					<div class="modal-footer">
      						<button type="submit" class="btn btn-default" disabled="disabled" id="submitForgotPass">Submit</button>
        					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      					</div>
    				</div>

    				<script>
    					$('#emailForgotPass').change(function() {
    						if($('#emailForgotPass').val() != "") {
    							$('#submitForgotPass').removeAttr('disabled', 'disabled');
    						}
    						else {
    							$('#submitForgotPass').attr('disabled', 'disabled');
    						}
    					});
    				</script>
  					</div>
				</div>

					</form>

  					<form role="form" id="signUpForm">
  						<div class="form-group has-feedback" id="email_group1">
    						<input type="email" class="form-control" id="email" placeholder="Email">
							<span class="glyphicon form-control-feedback glyphicon-envelope " id="email_icon1"></span>
  						</div>
  						<div class="form-group has-feedback" id="email_group2">
    						<input type="email" class="form-control" id="Conf_email" placeholder="Confirm Email">
							<span class="glyphicon form-control-feedback glyphicon-envelope" id="email_icon2"></span>
  						</div>
 						<div class="form-group has-feedback" id="password_group1">
    						<input type="password" class="form-control" id="passwordPass" placeholder="Password">
    						<span class="glyphicon form-control-feedback glyphicon-lock" id="password_icon1"></span>
  						</div>
  						<div class="form-group has-feedback" id="password_group2">
    						<input type="password" class="form-control" id="Conf_password" value="" placeholder="Confirm Password">
							<span class="glyphicon form-control-feedback glyphicon-lock" id="password_icon2"></span>
  						</div>
  						<div class="checkbox">
    						<label><input type="checkbox" id="validPP"> I understand that to purchase something from the website, I need to have a <b>valid PayPal account</b>.</label>
 						</div>
  						<div class="checkbox">
    						<label><input type="checkbox" id="TandC"> I confirm that I have read and agree with the <a data-toggle='modal' data-target='#TandCModal' id="openTandC">Terms and Conditions</a>.</label>
 						</div>
 						<div class="col-sm-12">
  							<button type="submit" class="btn btn-default" disabled="disabled" id="login1">Submit</button>
  						</div>


  						<!-- Modal -->
				<div class="modal fade" id="TandCModal" role="dialog">
 		 			<div class="modal-dialog" role="document">

    				<!-- Modal content-->
    				<div class="modal-content">
      					<div class="modal-header">
        					<button type="button" class="close" data-dismiss="modal">&times;</button>
        					<h4 class="modal-title">Terms and Conditions: </h4>
      					</div>
      					<div class="modal-body" id="placeTandC">
      					</div>
      					<div class="modal-footer">
        					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      					</div>
    				</div>
  					</div>
				</div>

  						<script>

  							$('#TandC').change(function() {
								if($('#email_group1').hasClass("has-success") && $('#password_group1').hasClass("has-success") 
									&& $('#TandC').is(':checked') && $('#validPP').is(':checked')) {
									$('#login1').removeAttr('disabled', 'disabled');
								}
								else {
									$('#login1').attr('disabled', 'disabled');
									$('#TandC').prop('checked', false);
								}
							});

  						</script>

					</form>

					<script>
						$('#Conf_email').change(function() {

							$('#email_icon1').removeClass('glyphicon-envelope');
							$('#email_icon2').removeClass('glyphicon-envelope');

							if ($('#email').val() == $('#Conf_email').val())
							{ 
								if($('#email_group1').hasClass("has-error")) {
									$('#email_group1').removeClass('has-error');
									$('#email_group2').removeClass('has-error');
									$('#email_icon1').removeClass('glyphicon-remove');
									$('#email_icon2').removeClass('glyphicon-remove');
								}
								$('#email_group1').addClass('has-success');
								$('#email_group2').addClass('has-success');
								$('#email_icon1').addClass('glyphicon-ok');
								$('#email_icon2').addClass('glyphicon-ok');
							}
							else {
								if($('#email_group1').hasClass("has-success")) {
									$('#email_group1').removeClass('has-error');
									$('#email_group2').removeClass('has-error');
									$('#email_icon1').removeClass('glyphicon-ok');
									$('#email_icon2').removeClass('glyphicon-ok');
								}
								$('#email_group1').addClass('has-error');
								$('#email_group2').addClass('has-error');
								$('#email_icon1').addClass('glyphicon-remove');
								$('#email_icon2').addClass('glyphicon-remove');
							}
						});

						$('#Conf_password').change(function() {
						
							$('#password_icon1').removeClass('glyphicon-lock');
							$('#password_icon2').removeClass('glyphicon-lock');
							if ($('#passwordPass').val() == $('#Conf_password').val())
							{ 
								if($('#password_group1').hasClass("has-error")) {
									$('#password_group1').removeClass('has-error');
									$('#password_group2').removeClass('has-error');
									$('#password_icon1').removeClass('glyphicon-remove');
									$('#password_icon2').removeClass('glyphicon-remove');
								}
								$('#password_group1').addClass('has-success');
								$('#password_group2').addClass('has-success');
								$('#password_icon1').addClass('glyphicon-ok');
								$('#password_icon2').addClass('glyphicon-ok');
							}
							else {
								if($('#password_group1').hasClass("has-success")) {
									$('#password_group1').removeClass('has-error');
									$('#password_group2').removeClass('has-error');
									$('#password_icon1').removeClass('glyphicon-ok');
									$('#password_icon2').removeClass('glyphicon-ok');
								}
								$('#password_group1').addClass('has-error');
								$('#password_group2').addClass('has-error');
								$('#password_icon1').addClass('glyphicon-remove');
								$('#password_icon2').addClass('glyphicon-remove');
							}
						});

					</script>
				</div>
  			</div>

	<div class="row-fluid navbar-fixed-bottom">
		<div class="col-sm-12">
			<hr>
		</div>
		<div class="col-sm-12">
			<div class="col-sm-7">
				<a href="#">Terms of Service</a>    
				<a href="#">Privacy</a>    
				<a href="#">Contacts</a>
			</div>
			<div class="col-sm-5">
				<p class="muted pull-right">© 2016 W3 Group @ School of Computer Science @ UoM. All rights reserved</p>
			</div>
		</div>
	</div>

		</div>
	</div>
</body>
</html>
